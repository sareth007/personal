{% extends "master.html" %}
{% block title %}Home - Sun Sareth{% endblock %}
{% block content %}
<section id="home">

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <section class="section active" id="events">
                <div class="section-header">
                    <h2><i class="fas fa-calendar-alt"></i> Upcoming Events</h2>
                </div>
                <div class="events-grid">
                    <div class="event-card" data-title="Paññāsāstra University of Cambodia - PUC" data-date="2025-06-23" data-description="I completed a Graduate Diploma at Paññāsāstra University, where I gained advanced knowledge and professional skills in English." data-image="https://via.placeholder.com/250">
                        <div class="event-header">
                            <div>
                                <div class="event-title">Paññāsāstra University of Cambodia - PUC</div>
                                <div class="event-date">June 23, 2025</div>
                            </div>
                        </div>
                        <div class="event-description">
                            I completed a Graduate Diploma at Paññāsāstra University, where I gained advanced knowledge and professional skills in English.
                        </div>
                    </div>
                    <div class="event-card" data-title="Foundation At Setec Institute" data-date="2024-11-10" data-description="I completed a Foundation Year at SETECT Institute, where I developed advanced knowledge and professional skills in Management Information Systems." data-image="https://via.placeholder.com/250">
                        <div class="event-header">
                            <div>
                                <div class="event-title">Foundation At Setec Institute</div>
                                <div class="event-date">Nov 10, 2024</div>
                            </div>
                        </div>
                        <div class="event-description">
                            I completed a Foundation Year at SETECT Institute, where I developed advanced knowledge and professional skills in Management Information Systems.
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>



    <!-- Modal for Adding/Editing Events -->
    <div class="modal" id="eventModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add/Edit Event</h3>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <div class="image-placeholder" id="eventImagePlaceholder">
                    <img id="eventImage" src="https://via.placeholder.com/250" alt="Event Image">
                </div>
                <form id="eventForm">
                    <div class="form-group">
                        <label for="eventTitle">Event Title</label>
                        <input type="text" id="eventTitle" name="eventTitle" placeholder="Event Title" required>
                    </div>
                    <div class="form-group">
                        <label for="eventDate">Event Date</label>
                        <input type="date" id="eventDate" name="eventDate" required>
                    </div>
                    <div class="form-group">
                        <label for="eventDescription">Description</label>
                        <textarea id="eventDescription" name="eventDescription" rows="4" placeholder="Event Description" required></textarea>
                    </div>
                    <div class="form-group">
                        <label for="eventImageUrl">Image URL</label>
                        <input type="url" id="eventImageUrl" name="eventImageUrl" placeholder="https://example.com/image.jpg">
                    </div>
                    <div class="modal-actions">
                        <button type="button" class="btn btn-secondary close">Cancel</button>
                        <button type="submit" class="btn">Save Event</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Notification -->
    <div class="notification" id="notification">
        Event saved successfully!
    </div>

    <script>
        // Hamburger menu toggle
        const hamburger = document.querySelector('.hamburger');
        const navMenu = document.querySelector('.nav-menu');
        hamburger.addEventListener('click', () => {
            navMenu.classList.toggle('active');
            hamburger.classList.toggle('active');
        });

        // Modal functionality
        const modal = document.getElementById('eventModal');
        const addEventBtn = document.getElementById('addEventBtn');
        const closeModal = document.querySelectorAll('.close');
        const notification = document.getElementById('notification');
        const eventForm = document.getElementById('eventForm');
        const eventImage = document.getElementById('eventImage');
        const eventCards = document.querySelectorAll('.event-card');

        // Open modal for adding new event
        addEventBtn.addEventListener('click', () => {
            modal.style.display = 'block';
            eventForm.reset();
            eventImage.src = 'https://via.placeholder.com/250';
            document.getElementById('eventTitle').value = '';
            document.getElementById('eventDate').value = '';
            document.getElementById('eventDescription').value = '';
            document.getElementById('eventImageUrl').value = '';
        });

        // Open modal with preloaded data when clicking event card
        eventCards.forEach(card => {
            card.addEventListener('click', () => {
                modal.style.display = 'block';
                const title = card.dataset.title;
                const date = card.dataset.date;
                const description = card.dataset.description;
                const image = card.dataset.image;
                document.getElementById('eventTitle').value = title;
                document.getElementById('eventDate').value = date;
                document.getElementById('eventDescription').value = description;
                document.getElementById('eventImageUrl').value = image;
                eventImage.src = image;
            });
        });

        // Close modal
        closeModal.forEach(btn => {
            btn.addEventListener('click', () => {
                modal.style.display = 'none';
            });
        });

        // Close modal when clicking outside
        window.addEventListener('click', (e) => {
            if (e.target === modal) {
                modal.style.display = 'none';
            }
        });

        // Form submission handler
        eventForm.addEventListener('submit', function(e) {
            e.preventDefault();
            modal.style.display = 'none';
            notification.classList.add('show', 'success');
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
            this.reset();
            eventImage.src = 'https://via.placeholder.com/250';
        });
    </script>
  </section>
{% endblock %}